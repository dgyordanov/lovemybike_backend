databaseChangeLog:

  - changeSet:
      id: 1
      author: Diyan Yordanov
      changes:
        - createTable:
            tableName: offers
            columns:
              - column:
                  name: id
                  type: int
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: account_id
                  type: int
                  autoIncrement: true
                  constraints:
                    nullable: false
              - column:
                  name: price
                  type: decimal
                  constraints:
                    nullable: false
              - column:
                  name: title
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: imageUrl
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: gender
                  type: varchar(255)
                  constraints:
                      nullable: false
              - column:
                  name: street
                  type: varchar(255)
                  constraints:
                      nullable: false
              - column:
                  name: number
                  type: varchar(255)
                  constraints:
                      nullable: false
              - column:
                  name: postcode
                  type: varchar(255)
                  constraints:
                      nullable: false
              - column:
                  name: city
                  type: varchar(255)
                  constraints:
                      nullable: false

  - changeSet:
      id: 2
      author: Diyan Yordanov
      changes:
          - loadData:
              encoding: UTF-8
              file: db/offers.csv
              tableName: offers
              columns:
                  - column:
                      name: id
                      type: NUMERIC
                  - column:
                      name: price
                      type: NUMERIC
                  - column:
                      name: title
                      type: STRING
                  - column:
                      name: imageUrl
                      type: STRING
                  - column:
                      name: description
                      type: STRING
                  - column:
                      name: gender
                      type: STRING

  - changeSet:
      id: 3
      author: Diyan Yordanov
      changes:
          - createTable:
              tableName: accounts
              columns:
                  - column:
                      name: id
                      type: int
                      autoIncrement: true
                      constraints:
                          primaryKey: true
                          nullable: false
                  - column:
                      name: email
                      type: varchar(255)
                      constraints:
                          nullable: false
                          unique: true
                  - column:
                      name: password
                      type: varchar(255)
                      constraints:
                          nullable: false

  - changeSet:
      id: 4
      author: Diyan Yordanov
      changes:
          - loadData:
              encoding: UTF-8
              file: db/users.csv
              tableName: accounts
              columns:
                  - column:
                      name: id
                      type: NUMERIC
                  - column:
                      name: email
                      type: STRING
                  - column:
                      name: password
                      type: STRING


  - changeSet:
      id: 5
      author: Diyan Yordanov
      changes:
          - addForeignKeyConstraint:
              baseColumnNames: account_id
              baseTableName: offers
              constraintName: fk_address_person
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: accounts

